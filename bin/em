#!/bin/bash

# Start emacs in an existing frame, or open a new frame if none exists.
# TODO: Open file from name on stdin if no argument is passed

emacsclient -n -e "(if (> (length (frame-list)) 1) 't)" | grep t
if [ "$?" = "1" ]; then
    emacsclient27 -c -n -a "" "$@"
else
    emacsclient27 -n -a "" "$@"
fi
